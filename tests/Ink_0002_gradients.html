<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8 />
    <title>Ink.js</title>
    <!--[if IE]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style>
      article, aside, figure, footer, header, hgroup,
      menu, nav, section { display: block; }
    </style>
    <script src="../lib/Ink.js"></script>
  </head>
  <body>
    <canvas id="canvas"></canvas>
  </body>
  <script>
    // By Daniel R. (sadasant.com)
    window.onload = function() {

      // Starting Ink.js
      Ink.init(null, null, null, 'rgba(0,0,0,1)')

      // Creating a Rectangle object
      var R = new Ink.Rect(10, 10, 70, 70, Ink.grad('RADIAL', 30, 30, 10, 42, 40, 30))

      // Adding the colors to the gradient fill
      R.fill.colors([[0,'#999'], [.5,'#333'], [.9,'#FFE'], [1,"#000"]])

      // Drawing the rectangle
      Ink.draw(R)

      // After drawing each frame...
      R.afterDraw = function() {
        var pos = this.y / 190
          , x = this.x
          , y = this.y
        // Replacing the custom fill to a new gradient
        this.fill = Ink.grad('RADIAL', x + 20, y + 20, pos, x + 32, y + 30, 30)
        .colors([
          [ pos > 0.5 ? pos-0.5 : 0, "#999"]
        , [ pos, "#333"]
        , [.9 - pos / 100, "#FFE"]
        , [ 1, "#000"]
        ])
        // Stop on certain position
        if (this.y > 150) this.stop()
      }
      // De accelerate the Rectangle
      R.accel(-1)
    }
  </script>
</html>
